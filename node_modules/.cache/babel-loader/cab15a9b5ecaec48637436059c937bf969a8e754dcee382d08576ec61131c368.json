{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import initialState from\"./initialState\";import{logoutUserOperation,signInOperation,signUpOperation}from\"./authOperations\";export const authSlice=createSlice({name:\"Auth\",initialState,reducers:{loginUser:(state,_ref)=>{let{payload}=_ref;return{...state,email:payload.email// accessToken: payload.token\n};},logoutUser:()=>initialState},extraReducers:builder=>{builder.addCase(signUpOperation.fulfilled,(state,_ref2)=>{let{payload}=_ref2;state.isLoading=false;state.error=null;state.user.email=payload.email;}).addCase(signInOperation.fulfilled,(state,_ref3)=>{let{payload}=_ref3;state.isLoading=false;state.error=null;state.accessToken=payload.accessToken;state.auth.email=payload.auth.email;}).addCase(logoutUserOperation.fulfilled,_ref4=>{let{state}=_ref4;state.auth.email=null;state.accessToken=null;state.error=null;state.isLoading=false;}).addMatcher(action=>action.type.endsWith(\"/pending\"),state=>{state.isLoading=true;}).addMatcher(action=>action.type.endsWith(\"/rejected\"),(state,_ref5)=>{let{payload}=_ref5;state.isLoading=false;state.error=payload.message;});}});export const authReducer=authSlice.reducer;export const{loginUser,logoutUser}=authSlice.actions;","map":{"version":3,"names":["createSlice","initialState","logoutUserOperation","signInOperation","signUpOperation","authSlice","name","reducers","loginUser","state","_ref","payload","email","logoutUser","extraReducers","builder","addCase","fulfilled","_ref2","isLoading","error","user","_ref3","accessToken","auth","_ref4","addMatcher","action","type","endsWith","_ref5","message","authReducer","reducer","actions"],"sources":["C:/Users/cheko/Desktop/Education/Freelance/tentfreelance/tent-freelance/src/redux/authSlice/loginSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport initialState from \"./initialState\";\r\nimport { logoutUserOperation, signInOperation, signUpOperation } from \"./authOperations\";\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"Auth\",\r\n  initialState,\r\n  reducers: {\r\n    loginUser: (state, { payload }) => ({...state, \r\n      email: payload.email,\r\n      // accessToken: payload.token\r\n    }),\r\n    logoutUser: () => (initialState)\r\n  },\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(signUpOperation.fulfilled, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        state.error = null;\r\n        state.user.email = payload.email;\r\n      })\r\n      .addCase(signInOperation.fulfilled, (state, { payload }) => {\r\n        state.isLoading = false;\r\n        state.error = null;\r\n        state.accessToken = payload.accessToken;\r\n        state.auth.email = payload.auth.email;\r\n      })\r\n      .addCase(logoutUserOperation.fulfilled, ({state}) => {\r\n        state.auth.email = null;\r\n        state.accessToken = null;\r\n        state.error = null;\r\n        state.isLoading = false;\r\n      }).addMatcher(\r\n        action => action.type.endsWith(\"/pending\"),\r\n        state => {\r\n          state.isLoading = true;\r\n        }\r\n      )\r\n      .addMatcher(\r\n        action => action.type.endsWith(\"/rejected\"),\r\n        (state, { payload }) => {\r\n          state.isLoading = false;\r\n          state.error = payload.message;\r\n        }\r\n      );\r\n  }\r\n});\r\n\r\nexport const authReducer = authSlice.reducer;\r\nexport const { loginUser, logoutUser } = authSlice.actions;\r\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,OAASC,mBAAmB,CAAEC,eAAe,CAAEC,eAAe,KAAQ,kBAAkB,CAExF,MAAO,MAAM,CAAAC,SAAS,CAAGL,WAAW,CAAC,CACnCM,IAAI,CAAE,MAAM,CACZL,YAAY,CACZM,QAAQ,CAAE,CACRC,SAAS,CAAEA,CAACC,KAAK,CAAAC,IAAA,OAAE,CAAEC,OAAQ,CAAC,CAAAD,IAAA,OAAM,CAAC,GAAGD,KAAK,CAC3CG,KAAK,CAAED,OAAO,CAACC,KACf;AACF,CAAC,EAAC,CACFC,UAAU,CAAEA,CAAA,GAAOZ,YACrB,CAAC,CACDa,aAAa,CAAEC,OAAO,EAAI,CACxBA,OAAO,CACJC,OAAO,CAACZ,eAAe,CAACa,SAAS,CAAE,CAACR,KAAK,CAAAS,KAAA,GAAkB,IAAhB,CAAEP,OAAQ,CAAC,CAAAO,KAAA,CACrDT,KAAK,CAACU,SAAS,CAAG,KAAK,CACvBV,KAAK,CAACW,KAAK,CAAG,IAAI,CAClBX,KAAK,CAACY,IAAI,CAACT,KAAK,CAAGD,OAAO,CAACC,KAAK,CAClC,CAAC,CAAC,CACDI,OAAO,CAACb,eAAe,CAACc,SAAS,CAAE,CAACR,KAAK,CAAAa,KAAA,GAAkB,IAAhB,CAAEX,OAAQ,CAAC,CAAAW,KAAA,CACrDb,KAAK,CAACU,SAAS,CAAG,KAAK,CACvBV,KAAK,CAACW,KAAK,CAAG,IAAI,CAClBX,KAAK,CAACc,WAAW,CAAGZ,OAAO,CAACY,WAAW,CACvCd,KAAK,CAACe,IAAI,CAACZ,KAAK,CAAGD,OAAO,CAACa,IAAI,CAACZ,KAAK,CACvC,CAAC,CAAC,CACDI,OAAO,CAACd,mBAAmB,CAACe,SAAS,CAAEQ,KAAA,EAAa,IAAZ,CAAChB,KAAK,CAAC,CAAAgB,KAAA,CAC9ChB,KAAK,CAACe,IAAI,CAACZ,KAAK,CAAG,IAAI,CACvBH,KAAK,CAACc,WAAW,CAAG,IAAI,CACxBd,KAAK,CAACW,KAAK,CAAG,IAAI,CAClBX,KAAK,CAACU,SAAS,CAAG,KAAK,CACzB,CAAC,CAAC,CAACO,UAAU,CACXC,MAAM,EAAIA,MAAM,CAACC,IAAI,CAACC,QAAQ,CAAC,UAAU,CAAC,CAC1CpB,KAAK,EAAI,CACPA,KAAK,CAACU,SAAS,CAAG,IAAI,CACxB,CACF,CAAC,CACAO,UAAU,CACTC,MAAM,EAAIA,MAAM,CAACC,IAAI,CAACC,QAAQ,CAAC,WAAW,CAAC,CAC3C,CAACpB,KAAK,CAAAqB,KAAA,GAAkB,IAAhB,CAAEnB,OAAQ,CAAC,CAAAmB,KAAA,CACjBrB,KAAK,CAACU,SAAS,CAAG,KAAK,CACvBV,KAAK,CAACW,KAAK,CAAGT,OAAO,CAACoB,OAAO,CAC/B,CACF,CAAC,CACL,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,WAAW,CAAG3B,SAAS,CAAC4B,OAAO,CAC5C,MAAO,MAAM,CAAEzB,SAAS,CAAEK,UAAW,CAAC,CAAGR,SAAS,CAAC6B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}