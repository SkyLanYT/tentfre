{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import s from'./VideoTutorials.module.css';import{NavLink}from'react-router-dom';import arrowRight from'../../images/moreVideoArrow.png';import{isMobile}from'constants/useMediaQueries';import Video from'./Video';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const YOU_TUBE_APIKEY=process.env.REACT_APP_YOU_TUBE_APIKEY;const CHANEL_ID=process.env.REACT_APP_CHANNEL_ID;const VideoTutorials=()=>{const containerRef=useRef(null);const[showScrollBack,setShowScrollBack]=useState(false);const[videos,setVideos]=useState(JSON.parse(localStorage.getItem(\"videos\"))||[]);const scrollRight=()=>{if(containerRef.current){containerRef.current.scrollBy({left:400,// Прокручуємо на ширину картки\nbehavior:'smooth'// З анімацією\n});setShowScrollBack(true);}};const mobileScreen=isMobile();const scrollLeft=()=>{if(containerRef.current){containerRef.current.scrollBy({left:-400,// Прокручуємо назад на ширину картки\nbehavior:'smooth'// З анімацією\n});}};useEffect(()=>{if(!mobileScreen&&containerRef.current){const container=containerRef.current;console.log(container);container.addEventListener('mouseenter',()=>{container.classList.add('hovered');});container.addEventListener('mouseleave',()=>{container.classList.remove('hovered');});const handleScroll=()=>{setShowScrollBack(container.scrollLeft>0);// Перевіряємо, чи прокручено вправо\n};container.addEventListener('scroll',handleScroll);return()=>{container.removeEventListener('mouseenter',()=>{container.classList.add('hovered');});container.removeEventListener('mouseleave',()=>{container.classList.remove('hovered');});container.removeEventListener('scroll',handleScroll);};}},[mobileScreen]);useEffect(()=>{if(!videos.length){const fetchVideos=async()=>{try{const response=await fetch(\"https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=\".concat(CHANEL_ID,\"&key=\").concat(YOU_TUBE_APIKEY));const{items}=await response.json();localStorage.setItem('videos',JSON.stringify(items));//  Локал сторейдж для того, щоб зайвий раз не посилати запит до ютюб\nsetVideos(items);}catch(error){console.error('Error fetching videos:',error.message);}};fetchVideos();}},[videos.length]);return/*#__PURE__*/_jsxs(\"section\",{className:s.section,children:[mobileScreen?/*#__PURE__*/_jsxs(\"h2\",{className:s.title,children:[/*#__PURE__*/_jsx(\"span\",{className:s.styledTitle,children:\"\\u0412\\u0418\\u0414\\u0415\\u041E\\u0423\\u0420\\u041E\\u041A\\u0418\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \\u043F\\u043E \\u0440\\u0435\\u043C\\u043E\\u043D\\u0442\\u0443 \\u0442\\u0435\\u043D\\u0442\\u0430\"]}):/*#__PURE__*/_jsxs(\"h2\",{className:s.title,children:[/*#__PURE__*/_jsx(\"span\",{className:s.styledTitle,children:\"\\u0412\\u0418\\u0414\\u0415\\u041E\\u0423\\u0420\\u041E\\u041A\\u0418\"}),\" \\u043F\\u043E \\u0440\\u0435\\u043C\\u043E\\u043D\\u0442\\u0443 \\u0442\\u0435\\u043D\\u0442\\u0430\"]}),mobileScreen&&/*#__PURE__*/_jsx(NavLink,{to:'/video-tips',className:s.link,children:/*#__PURE__*/_jsx(\"img\",{src:arrowRight,alt:\"link to videotutorials\"})}),/*#__PURE__*/_jsxs(_Fragment,{children:[mobileScreen&&/*#__PURE__*/_jsx(\"ul\",{className:s.videoList,children:videos===null||videos===void 0?void 0:videos.slice(1).map((el,idx)=>/*#__PURE__*/_jsx(\"li\",{className:s.videoItem,children:/*#__PURE__*/_jsx(Video,{el:el})},idx))}),!mobileScreen&&/*#__PURE__*/_jsx(\"div\",{style:{position:'relative'},children:/*#__PURE__*/_jsxs(\"div\",{className:s.container,ref:containerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:s.cards,children:videos===null||videos===void 0?void 0:videos.slice(1).map((el,idx)=>/*#__PURE__*/_jsx(Video,{el:el},idx))}),showScrollBack&&/*#__PURE__*/_jsx(\"button\",{className:s.scrollButtonLeft,onClick:scrollLeft,children:/*#__PURE__*/_jsx(\"img\",{className:s.arrowLeft,src:arrowRight,width:50,height:40,alt:\"arrow to left scroll\"})}),/*#__PURE__*/_jsx(\"button\",{className:s.scrollButtonRight,onClick:scrollRight,children:/*#__PURE__*/_jsx(\"img\",{src:arrowRight,width:50,height:40,alt:\"arrow to right scroll\"})})]})}),' ']})]});};export default VideoTutorials;","map":{"version":3,"names":["React","useEffect","useRef","useState","s","NavLink","arrowRight","isMobile","Video","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","YOU_TUBE_APIKEY","process","env","REACT_APP_YOU_TUBE_APIKEY","CHANEL_ID","REACT_APP_CHANNEL_ID","VideoTutorials","containerRef","showScrollBack","setShowScrollBack","videos","setVideos","JSON","parse","localStorage","getItem","scrollRight","current","scrollBy","left","behavior","mobileScreen","scrollLeft","container","console","log","addEventListener","classList","add","remove","handleScroll","removeEventListener","length","fetchVideos","response","fetch","concat","items","json","setItem","stringify","error","message","className","section","children","title","styledTitle","to","link","src","alt","videoList","slice","map","el","idx","videoItem","style","position","ref","cards","scrollButtonLeft","onClick","arrowLeft","width","height","scrollButtonRight"],"sources":["C:/Users/cheko/Desktop/Education/Freelance/tentfreelance/tent-freelance/src/components/videoTutorials/VideoTutorials.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport s from './VideoTutorials.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport arrowRight from '../../images/moreVideoArrow.png';\r\nimport { isMobile } from 'constants/useMediaQueries';\r\nimport Video from './Video';\r\n\r\nconst YOU_TUBE_APIKEY = process.env.REACT_APP_YOU_TUBE_APIKEY;\r\nconst CHANEL_ID = process.env.REACT_APP_CHANNEL_ID;\r\n\r\nconst VideoTutorials = () => {\r\n  const containerRef = useRef(null);\r\n  const [showScrollBack, setShowScrollBack] = useState(false);\r\n  const [videos, setVideos] = useState(JSON.parse(localStorage.getItem(\"videos\"))||[]);\r\n\r\n  const scrollRight = () => {\r\n    if (containerRef.current) {\r\n      containerRef.current.scrollBy({\r\n        left: 400, // Прокручуємо на ширину картки\r\n        behavior: 'smooth', // З анімацією\r\n      });\r\n      setShowScrollBack(true);\r\n    }\r\n  };\r\n\r\n  const mobileScreen = isMobile();\r\n\r\n  const scrollLeft = () => {\r\n    if (containerRef.current) {\r\n      containerRef.current.scrollBy({\r\n        left: -400, // Прокручуємо назад на ширину картки\r\n        behavior: 'smooth', // З анімацією\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!mobileScreen && containerRef.current) {\r\n      const container = containerRef.current;\r\n      console.log(container);\r\n      container.addEventListener('mouseenter', () => {\r\n        container.classList.add('hovered');\r\n      });\r\n      container.addEventListener('mouseleave', () => {\r\n        container.classList.remove('hovered');\r\n      });\r\n\r\n      const handleScroll = () => {\r\n        setShowScrollBack(container.scrollLeft > 0); // Перевіряємо, чи прокручено вправо\r\n      };\r\n\r\n      container.addEventListener('scroll', handleScroll);\r\n\r\n      return () => {\r\n        container.removeEventListener('mouseenter', () => {\r\n          container.classList.add('hovered');\r\n        });\r\n        container.removeEventListener('mouseleave', () => {\r\n          container.classList.remove('hovered');\r\n        });\r\n        container.removeEventListener('scroll', handleScroll);\r\n      };\r\n    }\r\n  }, [mobileScreen]);\r\n\r\n  useEffect(() => {\r\n   if (!videos.length) {\r\n     const fetchVideos = async () => {\r\n       try {\r\n         const response = await fetch(\r\n           `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANEL_ID}&key=${YOU_TUBE_APIKEY}`\r\n         );\r\n         const { items } = await response.json();\r\n         localStorage.setItem('videos', JSON.stringify(items));\r\n        //  Локал сторейдж для того, щоб зайвий раз не посилати запит до ютюб\r\n         setVideos(items);\r\n       } catch (error) {\r\n         console.error('Error fetching videos:', error.message);\r\n       }\r\n     };\r\n\r\n     fetchVideos();\r\n   }\r\n  }, [videos.length]);\r\n\r\n  return (\r\n    <section className={s.section}>\r\n      {mobileScreen ? (\r\n        <h2 className={s.title}>\r\n          <span className={s.styledTitle}>ВИДЕОУРОКИ</span> <br /> по ремонту\r\n          тента\r\n        </h2>\r\n      ) : (\r\n        <h2 className={s.title}>\r\n          <span className={s.styledTitle}>ВИДЕОУРОКИ</span> по ремонту тента\r\n        </h2>\r\n      )}\r\n      {mobileScreen && (\r\n        <NavLink to={'/video-tips'} className={s.link}>\r\n          <img src={arrowRight} alt=\"link to videotutorials\" />\r\n        </NavLink>\r\n      )}\r\n      <>\r\n        {mobileScreen && (\r\n          <ul className={s.videoList}>\r\n            {videos?.slice(1).map((el, idx) => (\r\n              <li key={idx} className={s.videoItem}>\r\n                <Video el={el} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n        {!mobileScreen && (\r\n          <div style={{ position: 'relative' }}>\r\n            <div className={s.container} ref={containerRef}>\r\n              <div className={s.cards}>\r\n                {videos?.slice(1).map((el, idx) => (\r\n                  <Video key={idx} el={el} />\r\n                ))}\r\n              </div>\r\n\r\n              {showScrollBack && (\r\n                <button className={s.scrollButtonLeft} onClick={scrollLeft}>\r\n                  <img\r\n                    className={s.arrowLeft}\r\n                    src={arrowRight}\r\n                    width={50}\r\n                    height={40}\r\n                    alt=\"arrow to left scroll\"\r\n                  />\r\n                </button>\r\n              )}\r\n\r\n              <button className={s.scrollButtonRight} onClick={scrollRight}>\r\n                <img\r\n                  src={arrowRight}\r\n                  width={50}\r\n                  height={40}\r\n                  alt=\"arrow to right scroll\"\r\n                />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}{' '}\r\n      </>\r\n      {/* {videos?.length ? (\r\n        <>\r\n          {mobileScreen && (\r\n            <ul className={s.videoList}>\r\n              {videos?.slice(1).map((el, idx) => (\r\n                <li key={idx} className={s.videoItem}>\r\n                  <Video el={el} />\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n          {!mobileScreen && (\r\n            <div style={{ position: 'relative' }}>\r\n              <div className={s.container} ref={containerRef}>\r\n                <div className={s.cards}>\r\n                  {videos?.slice(1).map((el, idx) => (\r\n                    <Video key={idx} el={el} />\r\n                  ))}\r\n                </div>\r\n\r\n                {showScrollBack && (\r\n                  <button className={s.scrollButtonLeft} onClick={scrollLeft}>\r\n                    <img\r\n                      className={s.arrowLeft}\r\n                      src={arrowRight}\r\n                      width={50}\r\n                      height={40}\r\n                      alt=\"arrow to left scroll\"\r\n                    />\r\n                  </button>\r\n                )}\r\n\r\n                <button className={s.scrollButtonRight} onClick={scrollRight}>\r\n                  <img\r\n                    src={arrowRight}\r\n                    width={50}\r\n                    height={40}\r\n                    alt=\"arrow to right scroll\"\r\n                  />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}{' '}\r\n        </>\r\n      ) : (\r\n        <div>\r\n          <h3>\r\n            Извините, сейчас сервер недостуный, перейдите на наш канал{' '}\r\n            <a href=\"https://www.youtube.com/channel/UCCHbfPlV3EVmlViN-2UTPcg\">\r\n              YouTube\r\n            </a>\r\n          </h3>\r\n          <p>{error && error}</p>\r\n        </div>\r\n      )} */}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default VideoTutorials;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}